(function($,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vuex"),require("vue-select"),require("lodash"),require("date-fns"),require("vue-flatpickr-component"),require("ramda"),require("date-fns-tz"),require("@guolao/vue-monaco-editor"),require("@vueup/vue-quill"),require("k-utils-js"),require("intl-tel-input")):typeof define=="function"&&define.amd?define(["exports","vue","vuex","vue-select","lodash","date-fns","vue-flatpickr-component","ramda","date-fns-tz","@guolao/vue-monaco-editor","@vueup/vue-quill","k-utils-js","intl-tel-input"],e):($=typeof globalThis<"u"?globalThis:$||self,e($.BotyglotCommonJs={},$.vue,$.vuex,$.vSelect,$.lodash,$.dateFns,$.flatPickr,$.R,$.dateFnsTz,$.vueMonacoEditor,$.vueQuill,$.kUtilsJs,$.intlTelInput$1))})(this,function($,e,P,ye,R,H,U,ke,F,Ve,Se,j,be){"use strict";function Ee(s){const m=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const t in s)if(t!=="default"){const a=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(m,t,a.get?a:{enumerable:!0,get:()=>s[t]})}}return m.default=s,Object.freeze(m)}const M=Ee(ke),W={__name:"errors_placeholder",props:{names:{type:[String,Array],required:!0},id:{type:String},force:{type:[String,Boolean],default:!1,require:!1}},setup(s){const m=s,t=P.useStore(),{names:a,force:n}=e.toRefs(m),u=e.computed(()=>typeof a.value=="string"?JSON.parse(a.value):a.value),o=e.computed({get(){if(n===!0||n==="true")return!0;let r=null;return u.value.forEach(y=>{let f=t.getters.getTouched(y);f&&f!==null&&f!==!1&&(r=f)}),r},set(r){u.value.forEach(y=>{t.commit("setTouched",{value:r,name:y})})}}),d=e.computed(()=>{if(o.value){let r="";return u.value.forEach(y=>{let f=t.getters.getError(y);f&&f!==""&&r===""&&(r=f)}),r}else return null}),p=e.computed(()=>{if(o.value){let r="";return u.value.forEach(y=>{let f=t.getters.getWarning(y);f&&f!==""&&r===""&&(r=f)}),r}else return null}),g=e.computed(()=>o.value&&d.value),c=e.computed(()=>o.value&&!d.value&&p.value),E=e.computed(()=>g.value||c.value),k=e.computed(()=>({"input-block__error-feedback":g.value,"input-block__warning-feedback":c.value})),V=e.computed(()=>d.value||p.value);return(r,y)=>E.value?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(k.value)},e.toDisplayString(V.value),3)):e.createCommentVNode("",!0)}},ve=["id"],L={__name:"component_wrapper",props:{name:{type:String,required:!0},id:{type:String,required:!0},classes:{type:[String,Array,Object],default:""}},setup(s){const m=P.useStore(),t=s,a=e.computed(()=>{const u=m.getters.getValue(t.name);return u==null||u===""}),n=e.computed(()=>({"botyglot-form--class-when-not-empty":!a.value,"botyglot-form--class-when-empty":a.value}));return(u,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([n.value,s.classes]),id:s.id+"__wrapper"},[e.renderSlot(u.$slots,"default")],10,ve))}},Be=["value","name"],Te=["id"],$e=["innerHTML"],Ce=["id"],we=["innerHTML"],G=Object.assign({inheritAttrs:!1},{__name:"autocomplete",props:{append:{type:String},choices:{type:String,required:!0},include_blank:{type:String,required:!0},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{append:a,choices:n,include_blank:u,name:o,id:d,prepend:p,suggest_value:g,display_error:c}=e.toRefs(m),E=e.computed(()=>t.getters.getPotentialValues(o.value)||JSON.parse(n.value));e.computed(()=>h.value&&S.value),e.computed(()=>h.value&&!S.value&&v.value);const k=e.computed(()=>g.value==="true"||g.value===!0||g.value==="force"),V=e.computed(()=>c.value==="true"||c.value===!0),r=e.computed(()=>k.value&&!h.value||g.value==="force"),y=e.computed(()=>t.getters.getSuggestedValues(o.value));e.computed(()=>u.value==="true");const f=e.computed(()=>({"form-control":!0,"custom-autocomplete":!0,"is-invalid":h.value&&S.value})),S=e.computed(()=>h.value?t.getters.getError(o.value):null),v=e.computed(()=>h.value?t.getters.getWarning(o.value):null),B=e.computed(()=>({"input-block":!0})),h=e.computed({get(){return t.getters.getTouched(o.value)},set(i){t.commit("setTouched",{value:i,name:o.value})}}),l=e.computed({get(){return t.getters.getValue(o.value)},set(i){t.dispatch("update",{value:i,name:o.value})}});return e.watch(y,(i,_)=>{r.value&&(l.value=i)}),(i,_)=>(e.openBlock(),e.createBlock(L,{name:e.unref(o),classes:B.value,id:e.unref(d)},{default:e.withCtx(()=>[e.createElementVNode("input",{type:"hidden",value:l.value,name:e.unref(o)},null,8,Be),e.unref(p)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:e.unref(d)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(p)},null,8,$e)],8,Te)):e.createCommentVNode("",!0),e.createVNode(e.unref(ye),e.mergeProps({id:e.unref(d),class:[f.value,e.unref(p)?"input--has-prepend":"",e.unref(a)?"input--has-append":""],label:"display_name",value:"id",name:e.unref(o),reduce:N=>N.id,modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=N=>l.value=N),"onSearch:focus":_[1]||(_[1]=N=>h.value=!0),options:E.value},i.$attrs),null,16,["id","class","name","reduce","modelValue","options"]),e.unref(a)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__append",id:e.unref(d)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(a)},null,8,we)],8,Ce)):e.createCommentVNode("",!0),V.value?(e.openBlock(),e.createBlock(W,{key:2,names:[e.unref(o)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}}),Ne=["id"],qe=["name","value"],Me=["name","id","value"],z={__name:"check_box",props:{checked_value:{type:String,required:!0},unchecked_value:{type:String,required:!0},name:{type:String,required:!0},id:{type:String,required:!0},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{checked_value:a,unchecked_value:n,name:u,id:o,suggest_value:d,display_error:p}=e.toRefs(m);e.computed(()=>f.value&&r.value),e.computed(()=>f.value&&!r.value&&y.value);const g=e.computed(()=>d.value==="true"||d.value===!0||d.value==="force"),c=e.computed(()=>p.value==="true"||p.value===!0),E=e.computed(()=>g.value&&!f.value||d.value==="force"),k=e.computed(()=>t.getters.getSuggestedValues(u.value)),V=e.computed(()=>({"input-block__field--invalid":f.value&&r.value,"input-block__field--warning":f.value&&!r.value&&y.value})),r=e.computed(()=>{let v=t.getters.getError(u.value);return f.value&&v||null}),y=e.computed(()=>f.value?t.getters.getWarning(u.value):null),f=e.computed({get(){return t.getters.getTouched(u.value)},set(v){t.commit("setTouched",{value:v,name:u.value})}}),S=e.computed({get(){let v=t.getters.getValue(u.value);return v===!0||v===u.value},set(v){t.dispatch("update",{value:v,name:u.value})}});return e.watch(k,(v,B)=>{E.value&&(S.value=v)}),(v,B)=>(e.openBlock(),e.createElementBlock("label",{class:"checkbox__container",id:e.unref(o)+"__wrapper"},[e.createElementVNode("input",{type:"hidden",name:e.unref(u),value:e.unref(n)},null,8,qe),e.withDirectives(e.createElementVNode("input",e.mergeProps({class:"checkbox",ref:"input"},v.$attrs,{class:V.value,name:e.unref(u),id:e.unref(o),"onUpdate:modelValue":B[0]||(B[0]=h=>S.value=h),onFocus:B[1]||(B[1]=h=>f.value=!0),value:e.unref(a)}),null,16,Me),[[e.vModelDynamic,S.value]]),B[2]||(B[2]=e.createElementVNode("span",{class:"checkbox__custom"},null,-1)),B[3]||(B[3]=e.createTextVNode("   ")),c.value?(e.openBlock(),e.createBlock(W,{key:0,names:[e.unref(u)]},null,8,["names"])):e.createCommentVNode("",!0)],8,Ne))}},Kt="",Oe=["id"],De=["innerHTML"],Pe=["name","value"],He={key:1,class:"botyglot--date-component-append-actions"},je=["id"],We=["innerHTML"],x=Object.assign({inheritAttrs:!1},{__name:"date",props:{append:{type:String},clear_option:{type:[String,Boolean],default:!1,required:!1},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0},display_format:{type:String,required:!1,default:"dd/MM/yyyy"}},setup(s){const m=s,{append:t,clear_option:a,name:n,id:u,prepend:o,suggest_value:d,display_error:p,display_format:g}=e.toRefs(m),c=P.useStore(),E=()=>{let C;return g.value==="dd MMM yy"?C="j M y":(g.value,C="d/m/Y"),C},k=(C,D)=>H.isMatch(C,D)?H.parse(C,D,new Date):null,V=C=>{if(!M.isNil(C)&&!M.isEmpty(C)&&!H.isMatch(C,g.value))return;let D=k(C,g.value);c.dispatch("update",{value:H.isValid(D)?H.format(D,"yyyy-MM-dd"):"",name:n.value})},r=()=>{c.dispatch("update",{value:"",name:n.value})},y=()=>{w.value=!0},f=e.ref({dateFormat:E(),allowInput:!0}),S=R.debounce(V,500);e.computed(()=>w.value&&N.value),e.computed(()=>w.value&&!N.value&&T.value);const v=e.computed(()=>d.value==="true"||d.value===!0||d.value==="force"),B=e.computed(()=>a.value==="true"||a.value===!0),h=e.computed(()=>p.value==="true"||p.value===!0),l=e.computed(()=>v.value&&!w.value||d.value==="force"),i=e.computed(()=>c.getters.getSuggestedValues(n.value)),_=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":w.value&&N.value,"input-block__field--warning":w.value&&!N.value&&T.value,datepicker:!0})),N=e.computed(()=>w.value?c.getters.getError(n.value):null),T=e.computed(()=>w.value?c.getters.getWarning(n.value):null),q=e.computed(()=>({"input-block":!0})),w=e.computed({get(){return c.getters.getTouched(n.value)},set(C){c.commit("setTouched",{value:C,name:n.value})}}),b=e.computed({get(){return c.getters.getValue(n.value)},set(C){c.dispatch("update",{value:C,name:n.value})}}),O=e.computed({get(){let C=c.getters.getValue(n.value),D=k(C,"yyyy-MM-dd");return H.isValid(D)?H.format(D,g.value):""},set(C){S(C)}});return e.watch(i,(C,D)=>{l.value&&(b.value=C)}),(C,D)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:q.value,id:e.unref(u)},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:e.unref(u)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(o)},null,8,De)],8,Oe)):e.createCommentVNode("",!0),e.createElementVNode("input",{type:"hidden",name:e.unref(n),value:b.value,onInput:D[0]||(D[0]=I=>b.value=I.target.value)},null,40,Pe),e.createVNode(e.unref(U),e.mergeProps({ref:"input"},C.$attrs,{modelValue:O.value,"onUpdate:modelValue":D[1]||(D[1]=I=>O.value=I),id:e.unref(u),class:[_.value,e.unref(o)?"input--has-prepend":"",e.unref(t)?"input--has-append":""],config:f.value,onOnOpen:y}),null,16,["modelValue","id","class","config"]),B.value?(e.openBlock(),e.createElementBlock("div",He,[e.createElementVNode("button",{class:"botyglot--date-component--clear-value",type:"button",title:"Clear","data-clear":"",onClick:r},D[2]||(D[2]=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.3rem",width:"1.3rem",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),e.createElementVNode("span",{"aria-hidden":"true",class:"sr-only"},"Clear",-1)]))])):e.createCommentVNode("",!0),e.unref(t)?(e.openBlock(),e.createElementBlock("div",{key:2,class:"input-block__append",id:e.unref(u)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(t)},null,8,We)],8,je)):e.createCommentVNode("",!0),h.value?(e.openBlock(),e.createBlock(W,{key:3,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}});var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var de={exports:{}};(function(s,m){(function(t,a){s.exports=a()})(Le,function(){/*! *****************************************************************************
  	    Copyright (c) Microsoft Corporation.

  	    Permission to use, copy, modify, and/or distribute this software for any
  	    purpose with or without fee is hereby granted.

  	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  	    PERFORMANCE OF THIS SOFTWARE.
  	    ***************************************************************************** */var t=function(){return t=Object.assign||function(d){for(var p,g=1,c=arguments.length;g<c;g++){p=arguments[g];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(d[E]=p[E])}return d},t.apply(this,arguments)};function a(o){try{if(typeof o.composedPath=="function"){var d=o.composedPath();return d[0]}return o.target}catch{return o.target}}var n={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function u(o){var d=t(t({},n),o),p,g="flatpickr-confirm";return function(c){return c.config.noCalendar||c.isMobile?{}:t({onKeyDown:function(E,k,V,r){var y=a(r),f=!c.config.time_24hr&&y===c.amPM||c.config.time_24hr&&(c.config.enableSeconds&&y===c.secondElement||!c.config.enableSeconds&&y===c.minuteElement);c.config.enableTime&&r.key==="Tab"&&f?(r.preventDefault(),p.focus()):r.key==="Enter"&&y===p&&c.close()},onReady:function(){p=c._createElement("div",g+" "+(d.showAlways?"visible":"")+" "+d.theme+"Theme",d.confirmText),p.tabIndex=-1,p.innerHTML+=d.confirmIcon,p.addEventListener("click",c.close),c.calendarContainer.appendChild(p),c.loadedPlugins.push("confirmDate")}},d.showAlways?{}:{onChange:function(E,k){var V=c.config.enableTime||c.config.mode==="multiple"||c.loadedPlugins.indexOf("monthSelect")!==-1,r=c.calendarContainer.querySelector("."+g);if(r){if(k&&!c.config.inline&&V&&r)return r.classList.add("visible");r.classList.remove("visible")}}})}}return u})})(de);var Fe=de.exports;const Ae=Ie(Fe),Qt="",Re=["id"],Ue=["innerHTML"],Ge=["name","value"],ze=["id"],xe=["innerHTML"],K=Object.assign({inheritAttrs:!1},{__name:"datetime",props:{append:{type:String},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0},display_format:{type:String,required:!1,default:"dd/MM/yyyy HH:mm"},time_zone:{type:String,required:!0}},setup(s){const m=s,t=P.useStore(),{append:a,name:n,id:u,prepend:o,suggest_value:d,display_error:p,display_format:g,time_zone:c}=e.toRefs(m),E=()=>{T.value=!0},k=()=>{let b;return g.value==="dd MMM yy HH:mm"?b="j M y H:i":(g.value,b="d/m/Y H:i"),b},V=b=>{let O=g.value;if(!M.isNil(b)&&!M.isEmpty(b)&&!H.isMatch(b,O))return;let C=H.parse(b,O,r()),D=H.isValid(C)?H.formatISO(F.zonedTimeToUtc(C,c.value)):"";t.dispatch("update",{value:D,name:n.value})},r=()=>{const b=(_e,xt)=>{let he=xt-_e.toString().length+1;return Array(+(he>0&&he)).join("0")+_e};let O=new Date,C=b(O.getUTCFullYear(),4),D=b(O.getUTCMonth()+1,2),I=b(O.getUTCDate(),2),ce=b(O.getUTCHours(),2),Ut=b(O.getUTCMinutes(),2),Gt=b(O.getUTCSeconds(),2),zt=`${C}-${D}-${I}T${ce}:${Ut}:${Gt}.000Z`;return F.utcToZonedTime(zt,c.value)},y=e.ref({dateFormat:k(),allowInput:!0,enableTime:!0,time_24hr:!0,plugins:[new Ae({confirmText:"Done"})]}),f=R.debounce(V,500);e.computed(()=>T.value&&i.value),e.computed(()=>T.value&&!i.value&&_.value);const S=e.computed(()=>d.value==="true"||d.value===!0||d.value==="force"),v=e.computed(()=>p.value==="true"||p.value===!0),B=e.computed(()=>S.value&&!T.value||d.value==="force"),h=e.computed(()=>t.getters.getSuggestedValues(n.value)),l=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":T.value&&i.value,"input-block__field--warning":T.value&&!i.value&&_.value,datepicker:!0})),i=e.computed(()=>T.value?t.getters.getError(n.value):null),_=e.computed(()=>T.value?t.getters.getWarning(n.value):null),N=e.computed(()=>({"input-block":!0})),T=e.computed({get(){return t.getters.getTouched(n.value)},set(b){t.commit("setTouched",{value:b,name:n.value})}}),q=e.computed({get(){return t.getters.getValue(n.value)},set(b){t.dispatch("update",{value:b,name:n.value})}}),w=e.computed({get(){let b=t.getters.getValue(n.value),O=b==null?"":new Date(b);return H.isValid(O)?F.format(F.utcToZonedTime(b,c.value),g.value):""},set(b){f(b)}});return e.watch(h,(b,O)=>{B.value&&(q.value=b)}),(b,O)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:N.value,id:e.unref(u)},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:e.unref(u)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(o)},null,8,Ue)],8,Re)):e.createCommentVNode("",!0),e.createElementVNode("input",{type:"hidden",name:e.unref(n),value:q.value,onInput:O[0]||(O[0]=C=>q.value=C.target.value)},null,40,Ge),e.createVNode(e.unref(U),e.mergeProps({ref:"input"},b.$attrs,{modelValue:w.value,"onUpdate:modelValue":O[1]||(O[1]=C=>w.value=C),id:e.unref(u),class:[l.value,e.unref(o)?"input--has-prepend":"",e.unref(a)?"input--has-append":""],config:y.value,onOnOpen:E}),null,16,["modelValue","id","class","config"]),e.unref(a)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__append",id:e.unref(u)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(a)},null,8,xe)],8,ze)):e.createCommentVNode("",!0),v.value?(e.openBlock(),e.createBlock(W,{key:2,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}}),Ke=["id"],Qe=["innerHTML"],Ye=["id","value","name"],Ze=["id"],Xe=["innerHTML"],Q={__name:"field",props:{append:{type:String},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{append:a,name:n,id:u,prepend:o,suggest_value:d,display_error:p}=e.toRefs(m),g=e.computed(()=>d.value==="true"||d.value===!0||d.value==="force"),c=e.computed(()=>p.value==="true"||p.value===!0),E=e.computed(()=>g.value&&!V.value||d.value==="force"),k=e.computed(()=>t.getters.getSuggestedValues(n.value)),V=e.computed({get(){return t.getters.getTouched(n.value)},set(B){t.commit("setTouched",{value:B,name:n.value})}}),r=e.computed({get(){return t.getters.getValue(n.value)},set(B){t.dispatch("update",{value:B,name:n.value})}}),y=e.computed(()=>V.value?t.getters.getError(n.value):null),f=e.computed(()=>V.value?t.getters.getWarning(n.value):null),S=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":V.value&&y.value,"input-block__field--warning":V.value&&!y.value&&f.value})),v=e.computed(()=>({"input-block":!0}));return e.watch(k,(B,h)=>{E.value&&(r.value=B)}),(B,h)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:v.value,id:e.unref(u)},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:e.unref(u)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(o)},null,8,Qe)],8,Ke)):e.createCommentVNode("",!0),e.createElementVNode("input",e.mergeProps(B.$attrs,{class:[S.value,e.unref(o)?"input--has-prepend":"",e.unref(a)?"input--has-append":""],id:e.unref(u),value:r.value,onInput:h[0]||(h[0]=l=>r.value=l.target.value),onFocus:h[1]||(h[1]=l=>V.value=!0),name:e.unref(n)}),null,16,Ye),e.unref(a)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__append",id:e.unref(u)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(a)},null,8,Xe)],8,Ze)):e.createCommentVNode("",!0),c.value?(e.openBlock(),e.createBlock(W,{key:2,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}},Je=["accept-charset","action","data-values","method","enctype"],Y={__name:"form",props:{acceptCharset:{type:String,required:!0,default:"UTF-8"},action:{type:String,required:!0},enctype:{type:String},method:{type:String,required:!0,default:"post"},autoSubmit:{type:String,default:""}},setup(s){const m=s,t=e.ref(null),a=e.ref(null),{acceptCharset:n,action:u,enctype:o,method:d,autoSubmit:p}=e.toRefs(m),g=P.useStore(),c=e.computed(()=>g.getters.getValue(g.getters.getMeta("modelName"))),E=(r=500)=>{clearTimeout(t.value),t.value=setTimeout(()=>{a.requestSubmit()},r)},k=r=>{g.getters.getMeta("disableValidation")||(g.commit("setTouched",{value:!0,name:`${g.getters.getMeta("modelName")}._submit`}),g.getters.getError(`${g.getters.getMeta("modelName")}._is_valid`)||r.preventDefault())},V=r=>{g.getters.getError(`${g.getters.getMeta("modelName")}._is_valid`)||r.preventDefault()};return e.watch(c,(r,y)=>{p.value==="onChange"&&E(750)}),(r,y)=>(e.openBlock(),e.createElementBlock("form",{"accept-charset":e.unref(n),action:e.unref(u),"data-values":r.dataValues,method:e.unref(d),enctype:e.unref(o),onSubmit:k,"on:ajax:beforeSend":V,ref_key:"form",ref:a},[e.renderSlot(r.$slots,"default")],40,Je))}},et=["id","name","value"],Z=Object.assign({inheritAttrs:!1},{__name:"hidden",props:{append:{type:String},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1}},setup(s){const m=s,t=P.useStore(),{append:a,name:n,id:u,prepend:o,suggest_value:d}=e.toRefs(m),p=e.computed({get(){return t.getters.getValue(n.value)},set(k){t.dispatch("update",{value:k,name:n.value})}}),g=e.computed(()=>d.value==="true"||d.value===!0),c=e.computed(()=>g.value),E=e.computed(()=>t.getters.getSuggestedValues(n.value));return e.watch(E,(k,V)=>{c.value&&(p.value=k)}),(k,V)=>(e.openBlock(),e.createElementBlock("input",e.mergeProps(k.$attrs,{id:e.unref(u),name:e.unref(n),value:p.value,onInput:V[0]||(V[0]=r=>p.value=r.target.value)}),null,16,et))}}),tt=["name","value"],X=Object.assign({inheritAttrs:!1},{__name:"monaco_editor",props:{id:{type:String,required:!0},name:{type:String,required:!0},readonly:{type:Boolean,required:!1,default:!1},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{id:a,name:n,readonly:u,suggest_value:o,display_error:d}=e.toRefs(m);e.computed(()=>f.value&&V.value),e.computed(()=>f.value&&!V.value&&r.value);const p=e.computed(()=>o.value==="true"||o.value===!0||o.value==="force"),g=e.computed(()=>d.value==="true"||d.value===!0),c=e.computed(()=>p.value&&!f.value||o.value==="force"),E=e.computed(()=>t.getters.getSuggestedValues(n.value)),k=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":f.value&&V.value,"input-block__field--warning":f.value&&!V.value&&r.value,editor:!0})),V=e.computed(()=>f.value?t.getters.getError(n.value):null),r=e.computed(()=>f.value?t.getters.getWarning(n.value):null),y=e.computed(()=>({"input-block":!0})),f=e.computed({get(){return t.getters.getTouched(n.value)},set(h){t.commit("setTouched",{value:h,name:n.value})}}),S=e.computed({get(){return t.getters.getValue(n.value)},set(h){t.dispatch("update",{value:h,name:n.value}),f.value=!0}}),v={minimap:{enabled:!1},automaticLayout:!0,autoIndent:!0,lineNumbers:"on",readOnly:u.value,autoClosingBrackets:"always",formatOnPaste:!0,formatOnType:!0,tabSize:2},B=h=>{let l=5,i=setInterval(()=>{h.layout(),l--,l===0&&clearInterval(i)},100)};return e.watch(E,(h,l)=>{c.value&&(S.value=h)}),(h,l)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:y.value,id:e.unref(a)},{default:e.withCtx(()=>[e.createElementVNode("input",{type:"hidden",name:e.unref(n),value:S.value,onInput:l[0]||(l[0]=i=>S.value=i.target.value)},null,40,tt),e.createVNode(e.unref(Ve.VueMonacoEditor),e.mergeProps(h.$attrs,{ref:"editor",id:e.unref(a),class:k.value,language:"ruby",value:S.value,"onUpdate:value":l[1]||(l[1]=i=>S.value=i),onFocus:l[2]||(l[2]=i=>f.value=!0),options:v,onEditorDidMount:B}),null,16,["id","class","value"]),g.value?(e.openBlock(),e.createBlock(W,{key:0,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}}),Yt="",nt=["name","value"],J=Object.assign({inheritAttrs:!1},{__name:"quill_editor",props:{id:{type:String,required:!0},name:{type:String,required:!0},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{id:a,name:n,suggest_value:u,display_error:o}=e.toRefs(m);e.computed(()=>r.value&&k.value),e.computed(()=>r.value&&!k.value&&V.value);const d=e.computed(()=>u.value==="true"||u.value===!0||u.value==="force"),p=e.computed(()=>o.value==="true"||o.value===!0),g=e.computed(()=>d.value&&!r.value||u.value==="force"),c=e.computed(()=>t.getters.getSuggestedValues(n.value)),E=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":r.value&&k.value,"input-block__field--warning":r.value&&!k.value&&V.value})),k=e.computed(()=>r.value?t.getters.getError(n.value):null),V=e.computed(()=>r.value?t.getters.getWarning(n.value):null),r=e.computed({get(){return t.getters.getTouched(n.value)},set(f){t.commit("setTouched",{value:f,name:n.value})}}),y=e.computed({get(){return t.getters.getValue(n.value)},set(f){t.dispatch("update",{value:f,name:n.value})}});return e.watch(c,(f,S)=>{g.value&&(y.value=f)}),(f,S)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),id:e.unref(a)},{default:e.withCtx(()=>[e.createElementVNode("input",{type:"hidden",name:e.unref(n),value:y.value},null,8,nt),e.createVNode(e.unref(Se.QuillEditor),e.mergeProps({id:e.unref(a),theme:"snow"},f.$attrs,{content:y.value,"onUpdate:content":S[0]||(S[0]=v=>y.value=v),toolbar:"minimal",class:E.value,onFocus:S[1]||(S[1]=v=>r.value=!0),name:e.unref(n)}),null,16,["id","content","class","name"]),p.value?(e.openBlock(),e.createBlock(W,{key:0,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","id"]))}}),rt=["name","value"],at=["id"],lt=["innerHTML"],ot=["id","value","name","disabled"],ut={key:0,value:""},st=["value"],it=["id"],ct=["innerHTML"],ee={__name:"select",props:{append:{type:String},name:{type:String,required:!0},id:{type:String,required:!0},prepend:{type:String},choices:{type:String,required:!0},include_blank:{type:String,required:!0},readonly:{type:Boolean,required:!1,default:!1},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{append:a,name:n,id:u,prepend:o,choices:d,include_blank:p,readonly:g,suggest_value:c,display_error:E}=e.toRefs(m),k=e.computed(()=>t.getters.getPotentialValues(n.value)||JSON.parse(d.value));e.computed(()=>_.value&&h.value),e.computed(()=>_.value&&!h.value&&l.value);const V=e.computed(()=>c.value==="true"||c.value===!0||c.value==="force"),r=e.computed(()=>E.value==="true"||E.value===!0),y=e.computed(()=>V.value&&!_.value||c.value==="force"),f=e.computed(()=>t.getters.getSuggestedValues(n.value)),S=e.computed(()=>{let T=p.value;return!(T===null||T===""||T===!1||T==="false")}),v=e.computed(()=>{let T=p.value;return T===!0||T==="true"?"":T}),B=e.computed(()=>({"custom-select":!0,"input-block__placeholder--selected":S.value&&N.value==="","input-block__field--invalid":_.value&&h.value,"input-block__field--warning":_.value&&!h.value&&l.value})),h=e.computed(()=>_.value?t.getters.getError(n.value):null),l=e.computed(()=>_.value?t.getters.getWarning(n.value):null),i=e.computed(()=>({"input-block":!0})),_=e.computed({get(){return t.getters.getTouched(n.value)},set(T){t.commit("setTouched",{value:T,name:n.value})}}),N=e.computed({get(){return t.getters.getValue(n.value)||""},set(T){t.dispatch("update",{value:T,name:n.value})}});return e.watch(f,(T,q)=>{y.value&&(N.value=T)}),(T,q)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:i.value,id:e.unref(u)},{default:e.withCtx(()=>[e.unref(g)?(e.openBlock(),e.createElementBlock("input",{key:0,type:"hidden",name:e.unref(n),value:N.value},null,8,rt)):e.createCommentVNode("",!0),e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__prepend",id:e.unref(u)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(o)},null,8,lt)],8,at)):e.createCommentVNode("",!0),e.createElementVNode("select",e.mergeProps({id:e.unref(u),class:[B.value,e.unref(o)?"input--has-prepend":"",e.unref(a)?"input--has-append":""],value:N.value,onInput:q[0]||(q[0]=w=>N.value=w.target.value),onFocus:q[1]||(q[1]=w=>_.value=!0),name:e.unref(n),disabled:e.unref(g)},T.$attrs),[S.value?(e.openBlock(),e.createElementBlock("option",ut,e.toDisplayString(v.value),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,(w,b)=>(e.openBlock(),e.createElementBlock("option",{value:w.id,key:b},e.toDisplayString(w.display_name),9,st))),128))],16,ot),e.unref(a)?(e.openBlock(),e.createElementBlock("div",{key:2,class:"input-block__append",id:e.unref(u)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(a)},null,8,ct)],8,it)):e.createCommentVNode("",!0),r.value?(e.openBlock(),e.createBlock(W,{key:3,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}},dt={class:"form-validation"},pt=["disabled"],mt={key:1,class:"form-validation__tooltip"},te=Object.assign({inheritAttrs:!1},{__name:"submit",setup(s){const m=P.useStore(),t=e.computed(()=>a.value&&!m.getters.getMeta("hideValidationErrors")&&!m.getters.getError(`${m.getters.getMeta("modelName")}._is_valid`)),a=e.computed({get(){return m.getters.getTouched("modelName")},set(p){m.commit("setTouched",{value:p,name:name.value})}}),n=e.computed(()=>{let p=m.getters.getError(m.getters.getMeta("modelName"));return delete p._is_valid,Object.values(p)}),u=e.ref(!1),o=e.ref(!1),d=()=>{m.getters.getError(`${m.getters.getMeta("modelName")}._is_valid`)&&setTimeout(()=>u.value=!0)};return(p,g)=>(e.openBlock(),e.createElementBlock("div",dt,[e.createElementVNode("input",e.mergeProps(p.$attrs,{onClick:d,disabled:u.value}),null,16,pt),t.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"form-validation__global-error",onClick:g[0]||(g[0]=c=>o.value=!o.value)},"! ")):e.createCommentVNode("",!0),t.value&o.value?(e.openBlock(),e.createElementBlock("ul",mt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,c=>(e.openBlock(),e.createElementBlock("li",{key:c},e.toDisplayString(c),1))),128))])):e.createCommentVNode("",!0)]))}}),gt=["id"],ft=["innerHTML"],_t=["id","value","name"],ht=["id"],yt=["innerHTML"],ne=Object.assign({inheritAttrs:!1},{__name:"textarea",props:{append:{type:String},id:{type:String,required:!0},name:{type:String,required:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{append:a,name:n,id:u,prepend:o,suggest_value:d,display_error:p}=e.toRefs(m);e.computed(()=>S.value&&r.value),e.computed(()=>S.value&&!r.value&&y.value);const g=e.computed(()=>d.value==="true"||d.value===!0||d.value==="force"),c=e.computed(()=>p.value==="true"||p.value===!0),E=e.computed(()=>g.value&&!S.value||d.value==="force"),k=e.computed(()=>t.getters.getSuggestedValues(n.value)),V=e.computed(()=>({"input-block__field":!0,"input-block__field--invalid":S.value&&r.value,"input-block__field--warning":S.value&&!r.value&&y.value})),r=e.computed(()=>S.value?t.getters.getError(n.value):null),y=e.computed(()=>S.value?t.getters.getWarning(n.value):null),f=e.computed(()=>({"input-block":!0})),S=e.computed({get(){return t.getters.getTouched(n.value)},set(B){t.commit("setTouched",{value:B,name:n.value})}}),v=e.computed({get(){return t.getters.getValue(n.value)},set(B){t.dispatch("update",{value:B,name:n.value})}});return e.watch(k,(B,h)=>{E.value&&(v.value=B)}),(B,h)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:f.value,id:e.unref(u)},{default:e.withCtx(()=>[e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:e.unref(u)+"__prepend"},[e.createElementVNode("span",{innerHTML:e.unref(o)},null,8,ft)],8,gt)):e.createCommentVNode("",!0),e.createElementVNode("textarea",e.mergeProps(B.$attrs,{class:[V.value,e.unref(o)?"input--has-prepend":"",e.unref(a)?"input--has-append":""],id:e.unref(u),value:v.value,onInput:h[0]||(h[0]=l=>v.value=l.target.value),onFocus:h[1]||(h[1]=l=>S.value=!0),name:e.unref(n)}),null,16,_t),e.unref(a)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__append",id:e.unref(u)+"__append"},[e.createElementVNode("span",{innerHTML:e.unref(a)},null,8,yt)],8,ht)):e.createCommentVNode("",!0),c.value?(e.openBlock(),e.createBlock(W,{key:2,names:[e.unref(n)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}}),pe=(s,m)=>{const t=s.__vccOpts||s;for(const[a,n]of m)t[a]=n;return t},kt={inheritAttrs:!1,props:{for:{type:String,required:!0}}},Vt=["for"];function St(s,m,t,a,n,u){return e.openBlock(),e.createElementBlock("label",{for:t.for},[e.renderSlot(s.$slots,"default")],8,Vt)}const re=pe(kt,[["render",St]]),bt=["for"],Et={key:0,class:"toggle-label-prepend"},vt=["name","value"],Bt=["id","name","disabled","checked","onKeydown","value"],Tt={key:1,class:"toggle-label-append"},$t={key:2},ae={__name:"toggle_switch",props:{name:{type:String,required:!0},id:{type:String,required:!0},value:{type:String,required:!0},on_value:{type:String,required:!0},on_label:{type:String,required:!0},off_value:{type:String,required:!0},off_label:{type:String,required:!0},disabled:{type:Boolean,required:!1},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0},show_labels:{type:[String,Boolean],default:!1}},setup(s){const m=s,t=P.useStore(),{name:a,id:n,value:u,on_value:o,on_label:d,off_value:p,off_label:g,disabled:c,suggest_value:E,display_error:k,show_labels:V}=e.toRefs(m),r=()=>{i.value===o.value?i.value=p.value:i.value=o.value};e.computed(()=>q.value&&N.value),e.computed(()=>q.value&&!N.value&&T.value);const y=e.computed(()=>V.value==="true"||V.value===!0),f=e.computed(()=>E.value==="true"||E.value===!0||E.value==="force"),S=e.computed(()=>k.value==="true"||k.value===!0),v=e.computed(()=>f.value&&!q.value||E.value==="force"),B=e.computed(()=>t.getters.getSuggestedValues(a.value)),h=e.computed(()=>({toggle_switch_component__label:!0,"input-block__field--invalid":q.value&&N.value,"input-block__field--warning":q.value&&!N.value&&T.value})),l=e.computed(()=>({"toggle_switch_component__global-container":!0})),i=e.computed({get(){let w=t.getters.getValue(a.value);return w===!0||w===o.value?o.value:p.value},set(w){t.dispatch("update",{value:w===!0||w===o.value?o.value:p.value,name:a.value})}}),_=e.computed({get(){let w=t.getters.getValue(a.value);return w===!0||w===o.value?d.value:g.value}}),N=e.computed(()=>q.value?t.getters.getError(a.value):null),T=e.computed(()=>q.value?t.getters.getWarning(a.value):null),q=e.computed({get(){return t.getters.getTouched(a.value)},set(w){t.commit("setTouched",{value:w,name:a.value})}});return e.watch(B,(w,b)=>{v.value&&(i.value=w)}),(w,b)=>(e.openBlock(),e.createBlock(L,{name:e.unref(a),classes:l.value,id:e.unref(n)},{default:e.withCtx(()=>[e.createElementVNode("label",{class:e.normalizeClass(h.value),for:e.unref(n)},[y.value?(e.openBlock(),e.createElementBlock("span",Et,e.toDisplayString(e.unref(g)),1)):e.createCommentVNode("",!0),e.createElementVNode("input",{type:"hidden",name:e.unref(a),value:e.unref(p)},null,8,vt),e.createElementVNode("input",e.mergeProps({id:e.unref(n),name:e.unref(a),class:"toggle_switch_component__input",type:"checkbox",ref:"input"},w.$attrs,{disabled:e.unref(c),checked:i.value===e.unref(o),onFocus:b[0]||(b[0]=O=>q.value=!0),onKeydown:e.withKeys(e.withModifiers(r,["prevent"]),["space"]),onClick:r,value:e.unref(o)}),null,16,Bt),b[1]||(b[1]=e.createElementVNode("span",{class:"toggle_switch_component__display",hidden:""},null,-1)),y.value?(e.openBlock(),e.createElementBlock("span",Tt,e.toDisplayString(e.unref(d)),1)):e.createCommentVNode("",!0),y.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("p",$t,e.toDisplayString(_.value),1))],10,bt),S.value?(e.openBlock(),e.createBlock(W,{key:0,names:[e.unref(a)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}},Zt="",Ct=["id","value","name"],wt=["id"],Nt=["id"],le=Object.assign({inheritAttrs:!1},{__name:"tel_input",props:{name:{type:String,required:!0},id:{type:String,required:!0}},setup(s){const m=s,t=e.ref(null),a=P.useStore(),{name:n,id:u}=e.toRefs(m),o=e.computed(()=>k.value&&c.value),d=e.computed(()=>k.value&&!c.value&&E.value),p=e.computed(()=>({"input-block__field":!0,"tel-input__text-input":!0,"input-block__field--invalid":k.value&&c.value})),g=e.computed(()=>({"input-block tel-input-block":!0})),c=e.computed(()=>k.value?a.getters.getError(n.value):null),E=e.computed(()=>k.value?a.getters.getWarning(n.value):null),k=e.computed({get(){return a.getters.getTouched(n.value)},set(r){a.commit("setTouched",{value:r,name:n.value})}}),V=e.computed({get(){return a.getters.getValue(n.value)},set(r){r=window.intlTelInputGlobals.getInstance(t.value).getNumber(),a.dispatch("update",{value:r,name:n.value})}});return e.onMounted(()=>{be(t.value,{preferredCountries:[],formatOnDisplay:!1,separateDialCode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.21/build/js/utils.js"})}),(r,y)=>(e.openBlock(),e.createBlock(L,{name:e.unref(n),classes:g.value,id:e.unref(u)},{default:e.withCtx(()=>[e.createElementVNode("input",e.mergeProps(r.$attrs,{class:p.value,ref_key:"telInput",ref:t,type:"tel",id:e.unref(u),value:V.value,onInput:y[0]||(y[0]=f=>V.value=f.target.value),onFocus:y[1]||(y[1]=f=>k.value=!0),name:e.unref(n)}),null,16,Ct),o.value?(e.openBlock(),e.createElementBlock("span",{key:0,id:e.unref(u)+"__error_message",class:"tel-input__error-feedback"},e.toDisplayString(c.value),9,wt)):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createElementBlock("span",{key:1,id:e.unref(u)+"__warning_message",class:"input-block__warning-feedback"},e.toDisplayString(E.value),9,Nt)):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}}),qt={data(){return{config:{enableTime:!0,noCalendar:!0,dateFormat:this.pickerFormat(),allowInput:!0,time_24hr:!0},debouncedSetFormattedValue:R.debounce(this.setFormattedValue,500)}},components:{ComponentWrapper:L,ErrorsPlaceholder:W,flatPickr:U},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0},display_format:{type:String,require:!1,default:"HH:mm"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return this.$props.suggest_value==="true"||this.$props.suggest_value===!0||this.$props.suggest_value==="force"},displayError:function(){return this.$props.display_error==="true"||this.$props.display_error===!0},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||this.$props.suggest_value==="force"},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning,datepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get(){return this.$store.getters.getTouched(this.$props.name)},set(s){this.$store.commit("setTouched",{value:s,name:this.$props.name})}},inputValue:{get(){return this.$store.getters.getValue(this.$props.name)},set(s){this.$store.dispatch("update",{value:s,name:this.$props.name})}},inputFormattedValue:{get(){let s=this.$store.getters.getValue(this.$props.name),m=s==null?"":new Date(s);return H.isValid(m)?F.format(F.utcToZonedTime(m,"UTC"),this.$props.display_format,{timeZone:"UTC"}):""},set(s){this.debouncedSetFormattedValue(s)}}},watch:{suggestedValue:function(s,m){this.useSuggestedValue&&(this.inputValue=s)}},methods:{onFocusDatePicker:function(){this.inputTouched=!0},checkIsValidFormat:(s,m)=>!M.isNil(s)&&!M.isEmpty(s)&&H.isMatch(s,m),pickerFormat:function(){let s;return this.$props.display_format==="HH:mm"&&(s="H:i"),s},setFormattedValue:function(s){let m=this.$props.display_format;if(!M.isNil(s)&&!M.isEmpty(s)&&!H.isMatch(s,m))return;let t=H.parse(s,m,new Date),a=H.isValid(t)?H.formatISO(F.zonedTimeToUtc(t,"UTC")):"";this.$store.dispatch("update",{value:a,name:this.$props.name})}}},Mt=["id"],Ot=["innerHTML"],Dt=["name","value"],Pt=["id"],Ht=["innerHTML"];function jt(s,m,t,a,n,u){const o=e.resolveComponent("flat-pickr"),d=e.resolveComponent("ErrorsPlaceholder"),p=e.resolveComponent("ComponentWrapper");return e.openBlock(),e.createBlock(p,{name:t.name,classes:u.inputGroupClass,id:t.id},{default:e.withCtx(()=>[t.prepend?(e.openBlock(),e.createElementBlock("div",{key:0,class:"input-block__prepend",id:t.id+"__prepend"},[e.createElementVNode("span",{innerHTML:t.prepend},null,8,Ot)],8,Mt)):e.createCommentVNode("",!0),e.createElementVNode("input",{type:"hidden",name:t.name,value:u.inputValue},null,8,Dt),e.createVNode(o,e.mergeProps({ref:"input"},s.$attrs,{modelValue:u.inputFormattedValue,"onUpdate:modelValue":m[0]||(m[0]=g=>u.inputFormattedValue=g),id:t.id,class:[u.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],config:n.config,onOnOpen:u.onFocusDatePicker}),null,16,["modelValue","id","class","config","onOnOpen"]),t.append?(e.openBlock(),e.createElementBlock("div",{key:1,class:"input-block__append",id:t.id+"__append"},[e.createElementVNode("span",{innerHTML:t.append},null,8,Ht)],8,Pt)):e.createCommentVNode("",!0),u.displayError?(e.openBlock(),e.createBlock(d,{key:2,names:[t.name]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"])}const oe=pe(qt,[["render",jt]]),Wt={class:"multi_check__flex-container"},Lt={class:"multi_check__checkbox-container"},It=["value","name","id","checked"],Ft={class:"multi_check__label-container"},At=["for"],Rt=["id","name"],ue={__name:"multi_check",props:{name:{type:String,required:!0},id:{type:String,required:!0},choices:{type:String,required:!0},suggest_value:{type:[String,Boolean],required:!1,default:!1},display_error:{type:[String,Boolean],required:!1,default:!0}},setup(s){const m=s,t=P.useStore(),{name:a,id:n,choices:u,suggest_value:o,display_error:d}=e.toRefs(m),p=e.computed(()=>t.getters.getPotentialValues(a.value)||JSON.parse(u.value));e.computed(()=>S.value&&V.value),e.computed(()=>S.value&&!V.value&&r.value);const g=e.computed(()=>o.value==="true"||o.value===!0||o.value==="force"),c=e.computed(()=>d.value==="true"||d.value===!0),E=e.computed(()=>g.value&&!S.value||o.value==="force"),k=e.computed(()=>t.getters.getSuggestedValues(a.value)),V=e.computed(()=>S.value?t.getters.getError(a.value):null),r=e.computed(()=>S.value?t.getters.getWarning(a.value):null),y=e.computed(()=>({multi_check__wrapper:!0})),f=e.computed(()=>a.value+"[]"),S=e.computed({get(){return t.getters.getTouched(a.value)},set(h){t.commit("setTouched",{value:h,name:a.value})}}),v=e.computed({get(){return t.getters.getValue(a.value)},set(h){t.dispatch("update",{value:h,name:a.value})}});e.watch(k,(h,l)=>{E.value&&(v.value=h)});const B=h=>{const l=v.value||[],i=h.target.value,_=l.indexOf(i);h.target.checked?_===-1&&(v.value=[...l,i]):_!==-1&&(v.value=l.toSpliced(_,1))};return(h,l)=>(e.openBlock(),e.createBlock(L,{name:e.unref(a),classes:y.value,id:e.unref(n)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,i=>(e.openBlock(),e.createElementBlock("div",Wt,[e.createElementVNode("div",Lt,[e.createElementVNode("input",{onFocus:l[0]||(l[0]=_=>S.value=!0),type:"checkbox",value:i.id,name:f.value,id:`id-${i.id}`,onChange:B,checked:v.value.includes(i.id),class:"multi_check__checkbox-input"},null,40,It)]),e.createElementVNode("div",Ft,[e.createElementVNode("label",{class:"multi_check__label-text",for:`id-${i.id}`},e.toDisplayString(i.display_name),9,At)])]))),256)),e.createElementVNode("input",{type:"hidden",id:e.unref(n),name:f.value,value:""},null,8,Rt),c.value?(e.openBlock(),e.createBlock(W,{key:0,names:[e.unref(a)]},null,8,["names"])):e.createCommentVNode("",!0)]),_:1},8,["name","classes","id"]))}},se=Object.assign({inheritAttrs:!1},{__name:"suggested_value",props:{name:{type:String,required:!0}},setup(s){const m=s,t=P.useStore(),{name:a}=e.toRefs(m),n=e.computed(()=>t.getters.getSuggestedValues(a.value)),u=e.computed(()=>n.value!==null);return(o,d)=>u.value?(e.openBlock(),e.createElementBlock("span",e.normalizeProps(e.mergeProps({key:0},o.$attrs)),e.toDisplayString(n.value),17)):e.createCommentVNode("",!0)}});class me{constructor({additionalComponents:m={},authenticityToken:t,element:a,globalAuthenticityToken:n,httpMethod:u="POST",plugins:o=[],validationUrl:d,values:p={},initialTouch:g=!1,disableValidation:c=!1,hideValidationErrors:E=!1,...k}){let V={"botyglot-time":oe,"botyglot-autocomplete":G,"botyglot-check_box":z,"botyglot-date":x,"botyglot-datetime":K,"botyglot-input":Q,"botyglot-form":Y,"botyglot-hidden":Z,"botyglot-select":ee,"botyglot-monaco_editor":X,"botyglot-quill_editor":J,"botyglot-textarea":ne,"botyglot-submit":te,"botyglot-label":re,"botyglot-toggle-switch":ae,"botyglot-tel-input":le,"botyglot-multi-check":ue,"botyglot-errors-placeholder":W,"botyglot-suggested-value":se};const r=Object.keys(p)[0];let{errors:y,warnings:f,suggested_values:S,potential_values:v,...B}=p[r],h={values:{[r]:B||{}},errors:{[r]:y||{}},warnings:{[r]:f||{}},touched:{[r]:{_submit:g}},potentialValues:{[r]:v||{}},suggestedValues:{[r]:S||{}},meta:Object.assign({modelName:r,authenticityToken:t,globalAuthenticityToken:n,validationUrl:d,httpMethod:u,disableValidation:c,hideValidationErrors:E},k)};this.store=P.createStore({state:h,plugins:o,getters:{getValue:l=>i=>{let _=j.Utils.dotify(i);return M.path(_.split("."),l.values)},getError:l=>i=>{let _=j.Utils.dotify(i);return l.meta.hideValidationErrors?null:M.path(_.split("."),l.errors)},getWarning:l=>i=>{let _=j.Utils.dotify(i);return l.meta.hideValidationErrors?null:M.path(_.split("."),l.warnings)},getTouched:l=>i=>{let _=j.Utils.dotify(i);return M.path(_.split("."),l.touched)||M.path([r,"_submit"],l.touched)},getMeta:l=>i=>{let _=j.Utils.dotify(i);return M.path(_.split("."),l.meta)},getPotentialValues:l=>i=>{let _=j.Utils.dotify(i);return M.path(_.split("."),l.potentialValues)},getSuggestedValues:l=>i=>{let _=j.Utils.dotify(i);return M.path(_.split("."),l.suggestedValues)}},mutations:{setValue:function(l,i){let _=j.Utils.dotify(i.name);l.values=M.assocPath(_.split("."),i.value,l.values)},setTouched:function(l,i){let _=j.Utils.dotify(i.name);l.touched=M.assocPath(_.split("."),i.value,l.touched)},setError:function(l,i){let _=j.Utils.dotify(i.name);l.errors=M.assocPath(_.split("."),i.value,l.errors)},setWarning:function(l,i){let _=j.Utils.dotify(i.name);l.warnings=M.assocPath(_.split("."),i.value,l.warnings)},setPotentialValues:function(l,i){let _=j.Utils.dotify(i.name);l.potentialValues=M.assocPath(_.split("."),i.value,l.potentialValues)},setSuggestedValues:function(l,i){let _=j.Utils.dotify(i.name);l.suggestedValues=M.assocPath(_.split("."),i.value,l.suggestedValues)}},actions:{genericSendDataToServer:function(l,i){let{sid:_,url:N,method:T,data:q,onSuccess:w,onError:b,...O}=i,C=I=>{let ce=Object.assign(O,{sid:_,response:I});l.dispatch("genericDataReceivedFromServer",ce)},D=I=>{console.log("There was a problem with validating the data"),console.log(I),console.log(JSON.stringify(I,null,2))};j.Api.sendRequest({url:N,method:T||"post",data:q,onSuccess:w||C,onError:b||D,delay:!0})},genericDataReceivedFromServer:function(l,i){},sendValuesToServer:function(l){if(c){console.log("Back-end validation is disabled");return}else{let i=T=>{l.dispatch("dataReceivedFromServer",T.data)},_=T=>{console.log("There was a problem with validating the data"),console.log(T),console.log(JSON.stringify(T,null,2))},N=Object.assign({utf8:"✓",authenticity_token:l.state.meta.authenticityToken,_method:l.state.meta.httpMethod},M.clone(l.state.values));N[r]._prevent_save=!0,j.Api.sendRequest({url:l.state.meta.validationUrl,data:N,method:l.state.meta.httpMethod,onSuccess:i,onError:_,delay:!0})}},dataReceivedFromServer:function(l,i){let{errors:_,warnings:N,potential_values:T,suggested_values:q}=i[r];_&&l.commit("setError",{value:_,name:r}),N&&l.commit("setWarning",{value:N,name:r}),T&&l.commit("setPotentialValues",{value:T,name:r}),q&&l.commit("setSuggestedValues",{value:q,name:r})},update:function(l,i){l.commit("setValue",i),l.dispatch("sendValuesToServer")}}}),this.app=e.createApp({inheritAttrs:!1,components:Object.assign(V,m),props:{}}),this.app.use(this.store),this.app.mount(a.parentElement)}}const ge=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:G,CheckBox:z,ComponentWrapper:L,Date:x,Datetime:K,ErrorsPlaceholder:W,Field:Q,Form:Y,FormStore:me,Hidden:Z,Label:re,MonacoEditor:X,MultiCheck:ue,QuillEditor:J,Select:ee,Submit:te,SuggestedValue:se,TelInput:le,Textarea:ne,Time:oe,ToggleSwitch:ae},Symbol.toStringTag,{value:"Module"}));function ie(s){ie.installed||(ie.installed=!0,Object.keys(ge).forEach(m=>{s.component(m,ge[m])}))}const fe={install:ie};let A=null;typeof window<"u"?A=window.Vue:typeof global<"u"&&(A=global.Vue),A&&A.use(fe),$.Autocomplete=G,$.CheckBox=z,$.ComponentWrapper=L,$.Date=x,$.Datetime=K,$.ErrorsPlaceholder=W,$.Field=Q,$.Form=Y,$.FormStore=me,$.Hidden=Z,$.Label=re,$.MonacoEditor=X,$.MultiCheck=ue,$.QuillEditor=J,$.Select=ee,$.Submit=te,$.SuggestedValue=se,$.TelInput=le,$.Textarea=ne,$.Time=oe,$.ToggleSwitch=ae,$.default=fe,Object.defineProperties($,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=botyglot-common-js.umd.cjs.map
