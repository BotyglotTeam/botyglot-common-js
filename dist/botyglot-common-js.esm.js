import t from"vue-select";import{Utils as e,Api as i}from"k-utils-js";import{debounce as n}from"lodash";import{isValid as r,format as s,isMatch as a,parse as o,formatISO as u}from"date-fns";import p from"vue-flatpickr-component";import"flatpickr/dist/flatpickr.css";import{isNil as l,isEmpty as d,path as c,assocPath as h,clone as g}from"ramda";import{format as m,utcToZonedTime as _,zonedTimeToUtc as f}from"date-fns-tz";import v from"flatpickr/dist/plugins/confirmDate/confirmDate";import"flatpickr/dist/plugins/confirmDate/confirmDate.css";import $ from"vue-monaco";import{VueEditor as y}from"vue2-editor";import V from"vue/dist/vue.esm.js";import T from"vuex";import"intl-tel-input/build/css/intlTelInput.css";import b from"intl-tel-input";function S(t,e,i,n,r,s,a,o,u,p){"boolean"!=typeof a&&(u=o,o=a,a=!1);var l,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=l):e&&(l=a?function(t){e.call(this,p(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),l)if(d.functional){var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,l):[l]}return i}var E=S({render:function(){var t=this.$createElement,e=this._self._c||t;return this.displayValidationError?e("span",{class:this.inputClass},[this._v(" "+this._s(this.inputError)+"  ")]):this._e()},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{names:{type:[String,Array],require:!0},id:{type:String,require:!1},force:{type:[String,Boolean],default:!1,require:!1}},computed:{computed_names:function(){return"string"==typeof this.$props.names?JSON.parse(this.$props.names):this.$props.names},displayValidationError:function(){return this.inputTouched&&this.inputError},inputClass:function(){return{"input-block__error-feedback":this.displayValidationError}},inputError:function(){var t=this;if(!this.inputTouched)return null;var e=null;return this.computed_names.forEach((function(i){var n=t.$store.getters.getError(i);n&&!e&&(e=n)})),e},inputTouched:{get:function(){var t=this;return!0===this.force||"true"===this.force||(this.computed_names.some((function(e){var i=t.$store.getters.getTouched(e);return i&&!1!==i}))||null)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),k=S({render:function(){var t=this.$createElement,e=this._self._c||t;return this.displayValidationWarning?e("span",{class:this.inputClass},[this._v(" "+this._s(this.inputWarning)+"  ")]):this._e()},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{names:{type:[String,Array],require:!0},id:{type:String,require:!1},force:{type:[String,Boolean],default:!1,require:!1}},computed:{computed_names:function(){return Array.isArray(this.$props.names)?this.$props.names:JSON.parse(this.$props.names)},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},inputClass:function(){return{"input-block__warning-feedback":this.displayValidationWarning}},inputError:function(){var t=this;if(!this.inputTouched)return null;var e=null;return this.computed_names.forEach((function(i){var n=t.$store.getters.getError(i);n&&!e&&(e=n)})),e},inputWarning:function(){var t=this;if(!this.inputTouched)return null;var e=null;return this.computed_names.forEach((function(i){var n=t.$store.getters.getWarning(i);n&&!e&&(e=n)})),e},inputTouched:{get:function(){var t=this;return!0===this.$props.force||"true"===this.$props.force||(this.computed_names.some((function(e){var i=t.$store.getters.getTouched(e);return i&&!1!==i}))||null)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),C=S({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:[this.inputGroupClass,this.classes],attrs:{id:this.id+"__wrapper"}},[this._t("default")],2)},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{name:{type:String,require:!0},id:{type:String,require:!0},classes:{type:[String,Array,Object],default:""}},computed:{isEmpty:function(){var t=this.$store.getters.getValue(this.$props.name);return null==t||""===t},inputGroupClass:function(){return{"botyglot-form--class-when-not-empty":!this.isEmpty,"botyglot-form--class-when-empty":this.isEmpty}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),W=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("vSelect",t._b({class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,label:"display_name",value:"id",name:t.name,reduce:function(t){return t.id},options:t.choicesToJson},on:{"search:focus":function(e){t.inputTouched=!0}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"vSelect",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{inheritAttrs:!1,components:{ComponentWrapper:C,vSelect:t,ErrorsPlaceholder:E,WarningsPlaceholder:k},props:{append:{type:String},choices:{type:String,require:!0},include_blank:{type:String,require:!0},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{choicesToJson:function(){return this.$store.getters.getPotentialValues(this.$props.name)||JSON.parse(this.$props.choices)},displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},includeBlank:function(){return"true"===this.$props.include_blank},inputClass:function(){return{"form-control":!0,"custom-autocomplete":!0,"is-invalid":this.inputTouched&&this.inputError}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){console.log(t),this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{},mounted:function(){this.$nextTick((function(){}))}},void 0,!1,void 0,!1,void 0,void 0,void 0),w=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"checkbox__container",attrs:{id:t.id+"__wrapper"}},[i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.unchecked_value}}),t._v(" "),"checkbox"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:"checkbox"},domProps:{value:t.checked_value,checked:Array.isArray(t.inputValue)?t._i(t.inputValue,t.checked_value)>-1:t.inputValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var i=t.inputValue,n=e.target,r=!!n.checked;if(Array.isArray(i)){var s=t.checked_value,a=t._i(i,s);n.checked?a<0&&(t.inputValue=i.concat([s])):a>-1&&(t.inputValue=i.slice(0,a).concat(i.slice(a+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:"radio"},domProps:{value:t.checked_value,checked:t._q(t.inputValue,t.checked_value)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputValue=t.checked_value}}},"input",this.$attrs,!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:this.$attrs.type},domProps:{value:t.checked_value,value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),i("span",{staticClass:"checkbox__custom"}),t._v("\n  Â \n  "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ErrorsPlaceholder:E},inheritAttrs:!1,props:{checked_value:{type:String,required:!0},unchecked_value:{type:String,required:!0},name:{type:String,require:!0},id:{type:String,require:!0},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputError:function(){var t=this.$store.getters.getError(this.$props.name);return this.inputTouched?e.isBlank(t)?null:t:null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name);return!0===t||t===this.$props.name},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),i("flat-pickr",t._b({ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,config:t.config},on:{"on-open":t.onFocusDatePicker},model:{value:t.inputFormattedValue,callback:function(e){t.inputFormattedValue=e},expression:"inputFormattedValue"}},"flat-pickr",this.$attrs,!1)),t._v(" "),t.clearOption?i("div",{staticClass:"botyglot--date-component-append-actions"},[i("button",{staticClass:"botyglot--date-component--clear-value",attrs:{type:"button",title:"Clear","data-clear":""},on:{click:t.clearDate}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"1.3rem",width:"1.3rem",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"}},[i("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"}})]),t._v(" "),i("span",{staticClass:"sr-only",attrs:{"aria-hidden":"true"}},[t._v("Clear")])])]):t._e(),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{data:function(){return{config:{dateFormat:this.pickerFormat(),allowInput:!0},debouncedSetFormattedValue:n(this.setFormattedValue,500)}},components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E,flatPickr:p},inheritAttrs:!1,props:{append:{type:String},clear_option:{type:[String,Boolean],require:!0},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0},display_format:{type:String,require:!1,default:"dd/MM/yyyy"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},clearOption:function(){return"true"===this.$props.clear_option||!0===this.$props.clear_option},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning,datepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=this.convertStringToDate(t,"yyyy-MM-dd");return r(e)?s(e,this.$props.display_format):""},set:function(t){this.debouncedSetFormattedValue(t)}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{clearDate:function(){this.$store.dispatch("update",{value:"",name:this.$props.name})},onFocusDatePicker:function(){this.inputTouched=!0},checkIsValidFormat:function(t,e){return console.log("isMatch",t,e,a(t,e)),!l(t)&&!d(t)&&a(t,e)},pickerFormat:function(){return"dd MMM yy"===this.$props.display_format?"j M y":(this.$props.display_format,"d/m/Y")},convertStringToDate:function(t,e){return a(t,e)?o(t,e,new Date):null},setFormattedValue:function(t){var e=this.$props.display_format;if(l(t)||d(t)||a(t,e)){var i=this.convertStringToDate(t,e);this.$store.dispatch("update",{value:r(i)?s(i,"yyyy-MM-dd"):"",name:this.$props.name})}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),q=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),i("flat-pickr",t._b({ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,config:t.config},on:{"on-open":t.onFocusDatePicker},model:{value:t.inputFormattedValue,callback:function(e){t.inputFormattedValue=e},expression:"inputFormattedValue"}},"flat-pickr",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{data:function(){return{config:{dateFormat:this.pickerFormat(),allowInput:!0,enableTime:!0,time_24hr:!0,plugins:[new v({confirmText:"Done"})]},debouncedSetFormattedValue:n(this.setFormattedValue,500)}},components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E,flatPickr:p},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0},display_format:{type:String,require:!1,default:"dd/MM/yyyy HH:mm"},time_zone:{type:String,require:!0}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning,datepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=null==t?"":new Date(t);return r(e)?m(_(t,this.$props.time_zone),this.$props.display_format):""},set:function(t){this.debouncedSetFormattedValue(t)}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{onFocusDatePicker:function(){this.inputTouched=!0},pickerFormat:function(){return"dd MMM yy HH:mm"===this.$props.display_format?"j M y H:i":(this.$props.display_format,"d/m/Y H:i")},setFormattedValue:function(t){var e=this.$props.display_format;if(l(t)||d(t)||a(t,e)){var i=o(t,e,this.getCurrentDateInTimezone()),n=r(i)?u(f(i,this.$props.time_zone)):"";this.$store.dispatch("update",{value:n,name:this.$props.name})}},getCurrentDateInTimezone:function(){function t(t,e){var i=e-t.toString().length+1;return Array(+(i>0&&i)).join("0")+t}var e=new Date,i=t(e.getUTCFullYear(),4),n=t(e.getUTCMonth()+1,2),r=t(e.getUTCDate(),2),s=t(e.getUTCHours(),2),a=t(e.getUTCMinutes(),2),o=t(e.getUTCSeconds(),2);return _(i+"-"+n+"-"+r+"T"+s+":"+a+":"+o+".000Z",this.$props.time_zone)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),F=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),"checkbox"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var i=t.inputValue,n=e.target,r=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.inputValue=i.concat([null])):s>-1&&(t.inputValue=i.slice(0,s).concat(i.slice(s+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t._q(t.inputValue,null)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputValue=null}}},"input",this.$attrs,!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:this.$attrs.type},domProps:{value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),M=S({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{ref:"form",attrs:{"accept-charset":t.$props.acceptCharset,action:t.$props.action,"data-values":t.$props.dataValues,method:t.$props.method,enctype:t.$props.enctype},on:{submit:t.handleSubmit,"ajax:beforeSend":t.ajaxBeforeSend}},[t._t("default")],2)},staticRenderFns:[]},void 0,{props:{acceptCharset:{type:String,required:!0,default:"UTF-8"},action:{type:String,required:!0},enctype:{type:String},method:{type:String,required:!0,default:"post"},autoSubmit:{type:String,default:""}},data:function(){return{timer:null}},computed:{values:function(){return this.$store.getters.getValue(this.$store.getters.getMeta("modelName"))}},methods:{debounce:function(t){var e=this;void 0===t&&(t=500),clearTimeout(this.timer),this.timer=setTimeout((function(){e.$refs.form.requestSubmit()}),t)},handleSubmit:function(t){this.$store.getters.getMeta("disableValidation")||(this.$store.commit("setTouched",{value:!0,name:this.$store.getters.getMeta("modelName")+"._submit"}),this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")||t.preventDefault())},ajaxBeforeSend:function(t){this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")||t.preventDefault()}},watch:{values:function(t,e){"onChange"===this.$props.autoSubmit&&this.debounce(750)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),x=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return"checkbox"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{change:function(e){var i=t.inputValue,n=e.target,r=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.inputValue=i.concat([null])):s>-1&&(t.inputValue=i.slice(0,s).concat(i.slice(s+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t._q(t.inputValue,null)},on:{change:function(e){t.inputValue=null}}},"input",this.$attrs,!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:this.$attrs.type},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1))},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1}},computed:{inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),B=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),i("Monaco",t._b({ref:"editor",class:t.inputClass,attrs:{id:t.id,language:"ruby",options:t.options},on:{focus:function(e){t.inputTouched=!0},editorDidMount:t.onEditorDidMount},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"Monaco",this.$attrs,!1)),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{id:{type:String,require:!0},name:{type:String,require:!0},readonly:{type:Boolean,require:!1,default:!1},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E,Monaco:$},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning,editor:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name}),this.inputTouched=!0}},options:function(){return{readOnly:this.$props.readonly,lineNumbers:"on",minimap:{enabled:!1}}}},methods:{onEditorDidMount:function(t){var e=5,i=setInterval((function(){t.layout(),0===--e&&clearInterval(i)}),100)}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),A=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),i("vue-editor",t._b({class:[t.inputClass,t.prepend?"input&#45;&#45;has-prepend":"",t.append?"input&#45;&#45;has-append":""],attrs:{id:t.id,"editor-toolbar":t.inputCustomToolBar.customToolbar,name:t.name},on:{focus:function(e){t.inputTouched=!0}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"vue-editor",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E,VueEditor:y},inheritAttrs:!1,props:{append:{type:String},id:{type:String,require:!0},name:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputCustomToolBar:function(){return{customToolbar:[["bold","italic","underline"],[{header:[1,2,3,4,5,6,!1]}]]}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),D=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.readonly?i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}):t._e(),t._v(" "),t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,disabled:t.readonly},on:{focus:function(e){t.inputTouched=!0},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputValue=e.target.multiple?i:i[0]}}},"select",this.$attrs,!1),[t.includeBlank?i("option",{attrs:{value:""}},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t._l(t.choicesToJson,(function(e,n){return i("option",{key:n,domProps:{value:e.id}},[t._v("\n      "+t._s(e.display_name)+"\n    ")])}))],2),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ErrorsPlaceholder:E,ComponentWrapper:C},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},choices:{type:String,require:!0},include_blank:{type:String,require:!0},readonly:{type:Boolean,require:!1,default:!1},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{choicesToJson:function(){return this.$store.getters.getPotentialValues(this.$props.name)||JSON.parse(this.$props.choices)},displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},includeBlank:function(){var t=this.$props.include_blank;return null!==t&&""!==t&&!1!==t&&"false"!==t},placeholder:function(){var t=this.$props.include_blank;return!0===t||"true"===t?"":t},inputClass:function(){return{"custom-select":!0,"input-block__placeholder--selected":this.includeBlank&&""===this.inputValue,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)||""},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),N=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-validation"},[i("input",t._b({attrs:{disabled:t.disabled},on:{click:t.submitting}},"input",this.$attrs,!1)),t._v(" "),t.displayValidationWarning?i("div",{staticClass:"form-validation__global-error",on:{click:function(e){t.displayValidationMessages=!t.displayValidationMessages}}},[t._v("!")]):t._e(),t._v(" "),t.displayValidationWarning&t.displayValidationMessages?i("ul",{staticClass:"form-validation__tooltip"},t._l(t.recapErrors,(function(e){return i("li",{key:e},[t._v(t._s(e))])})),0):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{},computed:{displayValidationWarning:function(){return this.inputTouched&&!this.$store.getters.getMeta("hideValidationErrors")&&!this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")},inputTouched:{get:function(){return this.$store.getters.getTouched("modelName")},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},recapErrors:function(){var t=this.$store.getters.getError(this.$store.getters.getMeta("modelName"));return delete t._is_valid,Object.values(t)}},data:function(){return{disabled:!1,displayValidationMessages:!1}},methods:{submitting:function(){var t=this;this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")&&setTimeout((function(){return t.disabled=!0}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),R=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("textarea",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name},domProps:{value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"textarea",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E},inheritAttrs:!1,props:{append:{type:String},id:{type:String,require:!0},name:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),H=S({render:function(){var t=this.$createElement;return(this._self._c||t)("label",{attrs:{for:this.$props.for}},[this._t("default")],2)},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{for:{type:String,require:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),O=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[i("label",{class:t.inputClass,attrs:{for:t.id}},[t.showLabels?i("span",{staticClass:"toggle-label-prepend"},[t._v(t._s(t.off_label))]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.off_value}}),t._v(" "),i("input",t._b({ref:"input",staticClass:"toggle_switch_component__input",attrs:{id:t.id,name:t.name,type:"checkbox",disabled:t.disabled},domProps:{checked:t.inputValue===t.on_value,value:t.on_value},on:{focus:function(e){t.inputTouched=!0},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.toggleInputValue.apply(null,arguments))},click:t.toggleInputValue}},"input",this.$attrs,!1)),t._v(" "),i("span",{staticClass:"toggle_switch_component__display",attrs:{hidden:""}}),t._v(" "),t.showLabels?i("span",{staticClass:"toggle-label-append"},[t._v(t._s(t.on_label))]):t._e(),t._v(" "),t.showLabels?t._e():i("p",[t._v(t._s(t.inputLabel))])]),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E},props:{name:{type:String,require:!0},id:{type:String,require:!0},value:{type:String,require:!0},on_value:{type:String,require:!0},on_label:{type:String,require:!0},off_value:{type:String,require:!0},off_label:{type:String,require:!0},disabled:{type:Boolean,require:!1},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0},show_labels:{type:[String,Boolean],default:!1}},methods:{toggleInputValue:function(){this.inputValue===this.$props.on_value?this.inputValue=this.$props.off_value:this.inputValue=this.$props.on_value}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},showLabels:function(){return"true"===this.$props.show_labels||!0===this.$props.show_labels},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},inputClass:function(){return{toggle_switch_component__label:!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning}},inputGroupClass:function(){return{"toggle_switch_component__global-container":!0}},inputValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name);return!0===t||t===this.$props.on_value?this.$props.on_value:this.$props.off_value},set:function(t){this.$store.dispatch("update",{value:!0===t||t===this.$props.on_value?this.$props.on_value:this.$props.off_value,name:this.$props.name})}},inputLabel:{get:function(){var t=this.$store.getters.getValue(this.$props.name);return!0===t||t===this.$props.on_value?this.$props.on_label:this.$props.off_label}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),G=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"telInput",class:t.inputClass,attrs:{type:"tel",id:t.id,name:t.name},domProps:{value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),t.displayValidationError?i("span",{staticClass:"tel-input__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(t._s(t.inputError))]):t._e(),t._v(" "),t.displayValidationWarning?i("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(t._s(t.inputWarning))]):t._e()])},staticRenderFns:[]},void 0,{components:{ComponentWrapper:C},inheritAttrs:!1,props:{name:{type:String,require:!0},id:{type:String,require:!0}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},inputClass:function(){return{"input-block__field":!0,"tel-input__text-input":!0,"input-block__field--invalid":this.inputTouched&&this.inputError}},inputGroupClass:function(){return{"input-block tel-input-block":!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){t=window.intlTelInputGlobals.getInstance(this.$refs.telInput).getNumber(),this.$store.dispatch("update",{value:t,name:this.$props.name})}}},mounted:function(){this.$nextTick((function(){b(this.$refs.telInput,{preferredCountries:[],formatOnDisplay:!1,separateDialCode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.21/build/js/utils.js"})}))}},void 0,!1,void 0,!1,void 0,void 0,void 0),L=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t.prepend?i("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[i("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),i("flat-pickr",t._b({ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,config:t.config},on:{"on-open":t.onFocusDatePicker},model:{value:t.inputFormattedValue,callback:function(e){t.inputFormattedValue=e},expression:"inputFormattedValue"}},"flat-pickr",this.$attrs,!1)),t._v(" "),t.append?i("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[i("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],1)},staticRenderFns:[]},void 0,{data:function(){return{config:{enableTime:!0,noCalendar:!0,dateFormat:this.pickerFormat(),allowInput:!0,time_24hr:!0},debouncedSetFormattedValue:n(this.setFormattedValue,500)}},components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E,flatPickr:p},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0},display_format:{type:String,require:!1,default:"HH:mm"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,"input-block__field--warning":this.inputTouched&&!this.inputError&&this.inputWarning,datepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=null==t?"":new Date(t);return r(e)?m(_(e,"UTC"),this.$props.display_format,{timeZone:"UTC"}):""},set:function(t){this.debouncedSetFormattedValue(t)}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{onFocusDatePicker:function(){this.inputTouched=!0},checkIsValidFormat:function(t,e){return!l(t)&&!d(t)&&a(t,e)},pickerFormat:function(){var t;return"HH:mm"===this.$props.display_format&&(t="H:i"),t},setFormattedValue:function(t){var e=this.$props.display_format;if(l(t)||d(t)||a(t,e)){var i=o(t,e,new Date),n=r(i)?u(f(i,"UTC")):"";this.$store.dispatch("update",{value:n,name:this.$props.name})}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),j=S({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ComponentWrapper",{attrs:{name:t.name,classes:t.inputGroupClass,id:t.id}},[t._l(t.choicesToJson,(function(e){return i("div",{staticClass:"multi_check__flex-container"},[i("div",{staticClass:"multi_check__checkbox-container"},[i("input",{staticClass:"multi_check__checkbox-input",attrs:{type:"checkbox",name:t.inputName,id:"id-"+e.id},domProps:{value:e.id,checked:t.inputValue.includes(e.id)},on:{focus:function(e){t.inputTouched=!0},change:t.updateSelection}})]),t._v(" "),i("div",{staticClass:"multi_check__label-container"},[i("label",{staticClass:"multi_check__label-text",attrs:{for:"id-"+e.id}},[t._v(t._s(e.display_name))])])])})),t._v(" "),i("input",{attrs:{type:"hidden",id:t.id,name:t.inputName,value:""}}),t._v(" "),t.displayValidationWarning?i("WarningsPlaceholder",{attrs:{id:t.id+"__warning_message",names:[t.name]}}):t._e(),t._v(" "),t.displayError?i("ErrorsPlaceholder",{attrs:{id:t.id+"__error_message",names:[t.name]}}):t._e()],2)},staticRenderFns:[]},void 0,{components:{WarningsPlaceholder:k,ComponentWrapper:C,ErrorsPlaceholder:E},inheritAttrs:!1,props:{name:{type:String,require:!0},id:{type:String,require:!0},choices:{type:String,require:!0},suggest_value:{type:[String,Boolean],require:!1,default:!1},display_error:{type:[String,Boolean],require:!1,default:!0}},computed:{choicesToJson:function(){return this.$store.getters.getPotentialValues(this.$props.name)||JSON.parse(this.$props.choices)},displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value||!0===this.$props.suggest_value||"force"===this.$props.suggest_value},displayError:function(){return"true"===this.$props.display_error||!0===this.$props.display_error},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched||"force"===this.$props.suggest_value},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{multi_check__wrapper:!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputName:function(){return this.$props.name+"[]"}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{updateSelection:function(t){var e=this.inputValue||[],i=t.target.value,n=e.indexOf(i);t.target.checked?-1===n&&(this.inputValue=e.concat([i])):-1!==n&&(this.inputValue=e.toSpliced(n,1))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),I=S({render:function(){var t=this.$createElement,e=this._self._c||t;return this.displaySuggestedValue?e("span",this._b({},"span",this.$attrs,!1),[this._v(this._s(this.getSuggestedValue))]):this._e()},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{name:{type:String,require:!0}},computed:{getSuggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},displaySuggestedValue:function(){return null!==this.getSuggestedValue}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function U(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(i[n]=t[n]);return i}var J=function(t){var n,r,s,a,o,u,p=t.additionalComponents;void 0===p&&(p={});var l=t.authenticityToken,d=t.element,m=t.globalAuthenticityToken,_=t.httpMethod;void 0===_&&(_="POST");var f=t.plugins;void 0===f&&(f=[]);var v=t.validationUrl,$=t.values;void 0===$&&($={});var y=t.initialTouch;void 0===y&&(y=!1);var b=t.disableValidation;void 0===b&&(b=!1);var S=t.hideValidationErrors;void 0===S&&(S=!1);var C=U(t,["additionalComponents","authenticityToken","element","globalAuthenticityToken","httpMethod","plugins","validationUrl","values","initialTouch","disableValidation","hideValidationErrors"]);V.use(T),window.toto="TOTO";var J={"botyglot-time":L,"botyglot-autocomplete":W,"botyglot-check_box":w,"botyglot-date":P,"botyglot-datetime":q,"botyglot-input":F,"botyglot-form":M,"botyglot-hidden":x,"botyglot-select":D,"botyglot-monaco_editor":B,"botyglot-quill_editor":A,"botyglot-textarea":R,"botyglot-submit":N,"botyglot-label":H,"botyglot-toggle-switch":O,"botyglot-tel-input":G,"botyglot-multi-check":j,"botyglot-errors-placeholder":E,"botyglot-suggested-value":I,"botyglot-warnings-placeholder":k},z=Object.keys($)[0],Y=$[z],Q=Y.errors,X=Y.warnings,Z=Y.suggested_values,K=Y.potential_values,tt=U(Y,["errors","warnings","suggested_values","potential_values"]),et={values:(n={},n[z]=tt||{},n),errors:(r={},r[z]=Q||{},r),warnings:(s={},s[z]=X||{},s),touched:(a={},a[z]={_submit:y},a),potentialValues:(o={},o[z]=K||{},o),suggestedValues:(u={},u[z]=Z||{},u),meta:Object.assign({modelName:z,authenticityToken:l,globalAuthenticityToken:m,validationUrl:v,httpMethod:_,disableValidation:b,hideValidationErrors:S},C)};this.store=new T.Store({state:et,plugins:f,getters:{getValue:function(t){return function(i){var n=e.dotify(i);return c(n.split("."),t.values)}},getError:function(t){return function(i){var n=e.dotify(i);return t.meta.hideValidationErrors?null:c(n.split("."),t.errors)}},getWarning:function(t){return function(i){var n=e.dotify(i);return t.meta.hideValidationErrors?null:c(n.split("."),t.warnings)}},getTouched:function(t){return function(i){var n=e.dotify(i);return c(n.split("."),t.touched)||c([z,"_submit"],t.touched)}},getMeta:function(t){return function(i){var n=e.dotify(i);return c(n.split("."),t.meta)}},getPotentialValues:function(t){return function(i){var n=e.dotify(i);return c(n.split("."),t.potentialValues)}},getSuggestedValues:function(t){return function(i){var n=e.dotify(i);return c(n.split("."),t.suggestedValues)}}},mutations:{setValue:function(t,i){var n=e.dotify(i.name);t.values=h(n.split("."),i.value,t.values)},setTouched:function(t,i){var n=e.dotify(i.name);t.touched=h(n.split("."),i.value,t.touched)},setError:function(t,i){var n=e.dotify(i.name);t.errors=h(n.split("."),i.value,t.errors)},setWarning:function(t,i){var n=e.dotify(i.name);t.warnings=h(n.split("."),i.value,t.warnings)},setPotentialValues:function(t,i){var n=e.dotify(i.name);t.potentialValues=h(n.split("."),i.value,t.potentialValues)},setSuggestedValues:function(t,i){var n=e.dotify(i.name);t.suggestedValues=h(n.split("."),i.value,t.suggestedValues)}},actions:{genericSendDataToServer:function(t,e){var n=e.sid,r=e.url,s=e.method,a=e.data,o=e.onSuccess,u=e.onError,p=U(e,["sid","url","method","data","onSuccess","onError"]);i.sendRequest({url:r,method:s||"post",data:a,onSuccess:o||function(e){var i=Object.assign(p,{sid:n,response:e});t.dispatch("genericDataReceivedFromServer",i)},onError:u||function(t){console.log("There was a problem with validating the data"),console.log(t),console.log(JSON.stringify(t,null,2))},delay:!0})},genericDataReceivedFromServer:function(t,e){},sendValuesToServer:function(t){if(b)console.log("Back-end validation is disabled");else{var e=Object.assign({utf8:"â",authenticity_token:t.state.meta.authenticityToken,_method:t.state.meta.httpMethod},g(t.state.values));e[z]._prevent_save=!0,i.sendRequest({url:t.state.meta.validationUrl,data:e,method:t.state.meta.httpMethod,onSuccess:function(e){t.dispatch("dataReceivedFromServer",e.data)},onError:function(t){console.log("There was a problem with validating the data"),console.log(t),console.log(JSON.stringify(t,null,2))},delay:!0})}},dataReceivedFromServer:function(t,e){var i=e[z],n=i.errors,r=i.warnings,s=i.potential_values,a=i.suggested_values;n&&t.commit("setError",{value:n,name:z}),r&&t.commit("setWarning",{value:r,name:z}),s&&t.commit("setPotentialValues",{value:s,name:z}),a&&t.commit("setSuggestedValues",{value:a,name:z})},update:function(t,e){t.commit("setValue",e),t.dispatch("sendValuesToServer")}}}),this.app=new V({el:d,store:this.store,inheritAttrs:!1,components:Object.assign(J,p),props:{}})},z=Object.freeze({__proto__:null,Autocomplete:W,CheckBox:w,Date:P,Datetime:q,Field:F,Form:M,Hidden:x,MonacoEditor:B,QuillEditor:A,Select:D,Submit:N,Textarea:R,FormStore:J,Label:H,ToggleSwitch:O,TelInput:G,Time:L,MultiCheck:j,ErrorsPlaceholder:E,SuggestedValue:I,ComponentWrapper:C,WarningsPlaceholder:k});var Y={install:function t(e){t.installed||(t.installed=!0,Object.keys(z).forEach((function(t){e.component(t,z[t])})))}},Q=null;"undefined"!=typeof window?Q=window.Vue:"undefined"!=typeof global&&(Q=global.Vue),Q&&Q.use(Y);export default Y;export{W as Autocomplete,w as CheckBox,C as ComponentWrapper,P as Date,q as Datetime,E as ErrorsPlaceholder,F as Field,M as Form,J as FormStore,x as Hidden,H as Label,B as MonacoEditor,j as MultiCheck,A as QuillEditor,D as Select,N as Submit,I as SuggestedValue,G as TelInput,R as Textarea,L as Time,O as ToggleSwitch,k as WarningsPlaceholder};
